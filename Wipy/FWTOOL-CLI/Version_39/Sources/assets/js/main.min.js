function fermeture_pos(e,t,n){$("#alerter").closing(),0<n&&""!=e&&$.post({url:e,data:t,success:function(){alerter("Serveur "+e,"Les modifications ont étés effectuées","","")}})}function acces_conf(t){var n,a;$("#show_mdp").center(),n=setInterval("$('#show_mdp').atcenter()",500);document.getElementById("y_pass").onclick=function(){if(a=document.getElementById("motdepasse").value,document.getElementById("motdepasse").value="",$("#show_mdp").closing(),clearInterval(n),"Conf"==a){localStorage.setItem("mdp_conf_cali","tracker777");var e=Date.now();localStorage.setItem("y",e),compteur(1800,cle="mdp_conf_cali",value="no",e),g_HTML(t[1]),"edit"==t[0]?event_edit():"conf"==t[0]&&$.get({url:"/conf.json",headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"},cache:!1,dataType:"json",success:function(e){generate_conf(e)}})}else alerter("Page Conf et Calib","Mot de passe érroné","",""),"edit"==t[0]&&(g_HTML(t[1]),event_edit())},document.getElementById("n_pass").onclick=function(){document.getElementById("motdepasse").value="",$("#show_mdp").closing(),clearInterval(n),"edit"==t[0]&&(g_HTML(t[1]),event_edit())}}function acces_calib(t){var n,a;$("#show_mdp").center(),n=setInterval("$('#show_mdp').atcenter()",500);document.getElementById("y_pass").onclick=function(){if(a=document.getElementById("motdepasse").value,document.getElementById("motdepasse").value="",$("#show_mdp").closing(),clearInterval(n),"Sermap25510"==a){localStorage.setItem("Cali_access","Triple-Double");var e=Date.now();localStorage.setItem("cy",e),compteur(1800,cle="Cali_access",value="no",e),g_HTML(t[1])}else alerter("Page Conf et Calib","Mot de passe érroné","","")},document.getElementById("n_pass").onclick=function(){document.getElementById("motdepasse").value="",$("#show_mdp").closing(),clearInterval(n),"edit"==t[0]&&(g_HTML(t[1]),event_edit())}}function alerter(e,t,n,a){var l;$("#alerter").center(),l=setInterval("$('#alerter').atcenter()",500),$("#title_alt").text(e),$("#error-msg").text(t);var i=document.getElementById("y_alert"),c=document.getElementById("n_alert");document.getElementById("alerter"),c.onclick=function(){clearInterval(l),fermeture_pos(n,a,0)},i.onclick=function(){clearInterval(l),fermeture_pos(n,a,1)}}function commande(e,t){$.post({url:e+t,data:"PROGRAMME MANUEL CALIBRATION",cache:!1})}function Programme_cmd(e){commande("Valp=",e)}function Manuel_cmd(e){commande("Val=",e)}function Calibration_cmd(e){commande("Valc=",e)}function maj_clock(){var e=new Date,t=e.getHours(),n=e.getMinutes(),a=e.getFullYear(),l=e.getMonth()+1,i=e.getDate();tosend="H="+t+":"+n+":"+a+":"+l+":"+i,$.post({url:tosend,data:"HORLOGE",success:function(){alerter("Horloge","L'horloge à été mise a jour","",""),n<10&&(n="0"+n),t<10&&(t="0"+t),document.getElementById("m_time").innerHTML="P5 : "+t+":"+n}})}function g_HTML(e){document.getElementById("updatejs").innerHTML=e}function main_view(){"navbar-collapse collapse show"===document.getElementById("navbarColor01").className&&$("#navbarColor01").collapse("hide")}function init(){var e,t;g_time(),null===localStorage.getItem("y")?localStorage.setItem("y",0):e=localStorage.getItem("y"),null===localStorage.getItem("cy")?localStorage.setItem("cy",0):t=localStorage.getItem("cy"),null===localStorage.getItem("mdp_conf_cali")&&localStorage.setItem("mdp_conf_cali","no"),null===localStorage.getItem("Cali_access")&&localStorage.setItem("Cali_access","no"),compteur(1800,cle="mdp_conf_cali",value="no",e),compteur(1800,cle="Cali_access",value="no",t),setInterval(get_wifi_datas,5e3),activeur(-1)}function get_wifi_datas(){$.get({url:"assets/json/wifi.json",headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"},cache:!1,dataType:"json",success:function(e){nom_wifi=e.ssid,auth_wifi=e.auth,channel_wifi=e.canal,linked(1)},error:function(){linked(0)}})}function compteur(e,t,n,a){1e3*e<=Date.now()-a?localStorage.setItem(this.cle,this.value):setTimeout("compteur("+e+",this.cle,this.value,this.t)","1000")}function comd(e){$("body").css("background-image","none"),"home"==e[0]&&$("body").css("background-image",""),"conf"==e[0]||"edit"==e[0]?(mdp_conf=localStorage.getItem("mdp_conf_cali"),"tracker777"!=mdp_conf?acces_conf(e):(activeur(e[2]),g_HTML(e[1]),"conf"==e[0]&&$.get({url:"assets/json/conf.json",headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"},cache:!1,dataType:"json",success:function(e){generate_conf(e)}}))):"calibration"==e[0]?(mdp_cali=localStorage.getItem("Cali_access"),"Triple-Double"!=mdp_cali?acces_calib(e):(activeur(e[2]),g_HTML(e[1]))):(activeur(e[2]),g_HTML(e[1])),"info"==e[0]?(Info(),x&&clearInterval(x),x=setInterval(Info,5e3)):clearInterval(x)}function activeur(e){var t=document.getElementsByClassName("bright-miro");0<t.length&&(t[0].className=t[0].className.replace("bright-miro","nav-link"));var n=document.getElementsByClassName("bright-miro");0<n.length&&(n[0].className=n[0].className.replace("bright-miro","nav-link"));var a=document.getElementById("navbarColor01").getElementsByTagName("a");-1<e&&(a[e].className="bright-miro")}function g_wifi(){comd(wifi),$.get({url:"assets/json/wifi.json",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:!1,dateType:"json",success:function(e){for(var t=parseInt(e.canal),n="",a=1;a<12;a++)n+='<OPTION value="'+a+'" ',a==t&&(n+="selected"),n+=" >"+a+"</OPTION>";document.getElementById("c1").innerHTML=n},error:function(){for(var e="",t=1;t<12;t++)e+='<OPTION value="'+t+'" >'+t+"</OPTION>";document.getElementById("c1").innerHTML=e}})}function g_time(){$.get({url:"assets/json/clock.json",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:!1,dataType:"json",error:function(){linked(0)},success:function(e){up_date_time(e)}}),setTimeout("g_time();",15e3)}function linked(e){var t=window.innerWidth;e?(document.getElementById("etat_co").innerHTML=t<1200?nom_wifi:"",document.getElementById("thetitle").innerHTML=nom_wifi):(document.getElementById("etat_co").innerHTML=t<1200?"Non connecté":"",document.getElementById("thetitle").innerHTML="Non connecté")}function up_date_time(e){var t=e.h,n=e.m;t<10&&(t="0"+t),n<10&&(n="0"+n),document.getElementById("m_time").innerHTML="P5 : "+t+":"+n}function Info(){try{document.getElementById("derniere_alarme")?$.get({url:"assets/json/info.json",headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"},cache:!1,dataType:"json",success:function(e){generate_info(e)},error:function(){linked(0)}}):clearInterval(x)}catch(e){console.log(e)}}function generate_info(e){try{var t=e["Temps de vol"]}catch(e){console.log(e)}try{var n=e["mdp wifi"]}catch(e){console.log(e)}try{document.getElementById("derniere_alarme").innerHTML=e["Derniere alarme"]}catch(e){console.log(e)}try{document.getElementById("etat_p5").innerHTML=e["Etat P5"]}catch(e){console.log(e)}try{document.getElementById("etat_p_p5").innerHTML=e["Etat precedant"]}catch(e){console.log(e)}try{document.getElementById("pions").innerHTML=e.Pions}catch(e){console.log(e)}try{document.getElementById("tension").innerHTML=e.Tension+" V"}catch(e){console.log(e)}try{document.getElementById("c_pion").innerHTML=e["Capteur pion"]?'<span class="badge badge-dark">Metal Absent</span>':'<span class="badge badge-primary">Metal Présent</span>'}catch(e){console.log(e)}try{document.getElementById("c_capot").innerHTML=e["Capteur capot"]?'<span class="badge badge-success">En place</span>':'<span class="badge badge-danger">En défaut</span>'}catch(e){console.log(e)}try{document.getElementById("arret_urgence").innerHTML=e["Arret urgence"]?'<span class="badge badge-danger">En Urgence</span>':'<span class="badge badge-success">Position Normal</span>'}catch(e){console.log(e)}try{document.getElementById("relais").innerHTML=e.Relais?"Activé":"Désactivé"}catch(e){console.log(e)}try{document.getElementById("im1").innerHTML=e["i Moteur 1"]+" A"}catch(e){console.log(e)}try{document.getElementById("im2").innerHTML=e["i Moteur 2"]+" A"}catch(e){console.log(e)}try{document.getElementById("patinage").innerHTML=e.Patinage+" s"}catch(e){console.log(e)}try{document.getElementById("t_pion").innerHTML=e["Temps pion"]+"  ms"}catch(e){console.log(e)}try{document.getElementById("t_platine").innerHTML=e["Temps platine"]+" ms"}catch(e){console.log(e)}try{document.getElementById("t_pelle").innerHTML=e["Temps pelle"]+" s"}catch(e){console.log(e)}document.getElementById("t_vol").innerHTML=t<=60?Math.round10(t)+" s":t<3600?Math.round10(t/60,-2)+" min":Math.round10(t/3600,-2)+" h";try{document.getElementById("v_pic_wipy").innerHTML=e["Version PIC"]+":"+e["Version Wipy"]}catch(e){console.log(e)}try{document.getElementById("t_demarrage").innerHTML=Math.round10(e["Temps demarrage"],-2)+" s"}catch(e){console.log(e)}try{document.getElementById("w_name").innerHTML=e.WIFI,nom_wifi=e.WIFI}catch(e){console.log(e)}try{document.getElementById("w_pass").innerHTML="undefined"!=n?n:""}catch(e){console.log(e)}}function generate_conf(e){try{document.getElementById("Consigne_Moteur").value=e["Consigne Moteur"]}catch(e){console.log(e)}try{document.getElementById("Consigne_Pelle").value=e["Consigne Pelle"]}catch(e){console.log(e)}try{document.getElementById("Seuil_Pelle").value=e["Seuil Pelle"]}catch(e){console.log(e)}try{document.getElementById("Consigne_Bequille").value=e["Consigne Bequille"]}catch(e){console.log(e)}try{document.getElementById("Seuil_Bequille").value=e["Seuil Bequille"]}catch(e){console.log(e)}try{document.getElementById("Patinage").value=e.Patinage}catch(e){console.log(e)}try{document.getElementById("Temps_Pion").value=e["Temps Pion"]}catch(e){console.log(e)}try{document.getElementById("Temps_Platine").value=e["Temps Platine"]}catch(e){console.log(e)}try{document.getElementById("Temps_Pelle").value=e["Temps Pelle"]}catch(e){console.log(e)}}function g_edit(){comd(edit),event_edit()}function event_edit(){var e=localStorage.getItem("mdp_conf_cali"),t=document.getElementById("opt_edit"),n=["Standard","Pailleux","DVT","MultiTas"];if("tracker777"==e)for(var a in n){var l=document.createElement("option");l.value=n[a],l.innerHTML=n[a],t.appendChild(l)}t.addEventListener("change",function(){""!=t.value?$.get({url:"prgm/"+t.value+".txt",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:!1,dataType:"text",success:function(e){document.getElementById("put_text").innerHTML=e}}):document.getElementById("put_text").innerHTML=""})}function g_planning(){comd(planning),$.get({url:"planning.txt",headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"},cache:!1,dataType:"text",success:function(e){var t="",n=new RegExp(["\n"]),a=new RegExp([":"]),l=1,i=["1","2","3","4","5","6","7","8","9","Standard","Pailleux","DVT","MultiTas"];for(var c in tab_l=e.split(n),tab_l)if(tab_c=tab_l[c].split(a),4==tab_c.length){var o="";if("True"==tab_c[0])var s="checked";else s="";var r=parseInt(tab_c[1]),d=parseInt(tab_c[2]);tab_c[3];for(var m in t+='<tr><th scope="col">'+l+'</th><th scope="col"><input class="case_1" type="text" name="h'+l+'" id="h'+l+'"value="'+r+'" min="0" max="23" size="2"/></th><th scope="col"><input class="case_1" type="text" name="m'+l+'" id="m'+l+'"value="'+d+'" min="0" max="59" size="2"></th><th scope="col"><input type="checkbox" id="v'+l+'" name="c'+l+'" '+s+'/></th><th scope="col"><SELECT name="p{0}" size="1" id="opt_'+l+'">',i)o+='<OPTION value="'+i[m]+'" ',tab_c[3]==i[m]&&(o+="selected"),o+=" >"+i[m]+"</OPTION>";t+=o+"</SELECT></th></tr>",l+=1}document.getElementById("f_tab").innerHTML=t}})}function save_plan(){var e=0,t=1,n=0,a=new RegExp(["^[0-9]{1,2}$"]),l=new Array(20),i=new Array(20),c=new Array(20),o=new Array(20),s=new Array(20),r="Planning",d="",m=0,u=0;for(e=0;e<20;e++){var g,v;t=e+1,l[e]=t,i[e]=document.getElementById("h"+t).value,c[e]=document.getElementById("m"+t).value,m_h="Les entrées des Heures sont érronées",m_m="Les entrées des Minutes sont érronées",$("input[name=c"+t+"]").is(":checked")?(o[e]=!0,d+="c"+t+"=True& "):(o[e]=!1,d+="c"+t+"=False& "),s[e]=document.getElementById("opt_"+t).value,d+="h"+t+"="+i[e]+"& m"+t+"="+c[e]+"& p"+t+"="+s[e]+"& \n",m=23<i[e]?1:m,u=59<c[e]?1:u,g=a.test(i[e]),v=a.test(c[e]),g&&v||(n+=1)}console.log(d),0!=m||0!=u||n?alerter(r,n?"Veuillez mettre que des chiffres dans les entrées H et M":m?0<u?m_h+"\n"+m_m:m_h:m_m,"",""):alerter(r,"Êtes vous sur de modifier le planning ?","/T3",d)}function change_wifi(){var e=new RegExp("^[a-zA-Z0-9_-]{8,20}"),t=new RegExp("^[a-zA-Z0-9]{0,8}"),n=document.getElementById("n1").value,a=document.getElementById("p1").value,l=document.getElementById("c1").value;data="n1="+n+"& p1="+a+"& c1="+l+"&",n.match(t)?a.match(e)||""==a?$.post({url:"/Wifi",data:data,success:function(){alerter("Serveur "+cible,"Les modifications ont étés effectuées","",""),nom_wifi=""!=n?(document.getElementById("w_name").innerHTML="Nom Wifi : P5 -"+n,"P5 - "+n):(document.getElementById("w_name").innerHTML="Nom Wifi : P5","P5"),document.getElementById("w_pass").innerHTML="Mot de passe : "+a,document.getElementById("w_channel").innerHTML="Canal: "+l}}):alerter("Wifi","Veuillez mettre un mot de passe correct(Minimum 8 caractères à 20, sans espaces ni caractères speciaux.)  ","",""):alerter("Wifi","Veuillez mettre un nom de wifi correct(Maximum 8 caractères, avec des lettres, ou laissez la case vide)","","")}function save_conf(){var e=[document.getElementById("Consigne_Moteur").name,document.getElementById("Consigne_Pelle").name,document.getElementById("Seuil_Pelle").name,document.getElementById("Consigne_Bequille").name,document.getElementById("Seuil_Bequille").name,document.getElementById("Patinage").name,document.getElementById("Temps_Pion").name,document.getElementById("Temps_Platine").name,document.getElementById("Temps_Pelle").name],t=[document.getElementById("Consigne_Moteur").value,document.getElementById("Consigne_Pelle").value,document.getElementById("Seuil_Pelle").value,document.getElementById("Consigne_Bequille").value,document.getElementById("Seuil_Bequille").value,document.getElementById("Patinage").value,document.getElementById("Temps_Pion").value,document.getElementById("Temps_Platine").value,document.getElementById("Temps_Pelle").value],n="",a=new RegExp(["^[0-9]+$"]),l="Configuration",i=0,c=0,o=0,s=0,r=0,d=0,m=0;for(nb in(255<t[5]||255<t[8])&&(o=1),e)a.test(t[nb])||(m+=1),""==t[nb]&&(i+=1),t[nb]<=0&&(d+=1),n+=e[nb]+"="+t[nb]+"& \n",nb<=4&&20<t[nb]&&(c+=1),5<nb<8&&25500<=t[nb]&&(s+=1);try{r=t[7]-t[6]}catch(e){console.log(e)}1==i?alerter(l,"Il y a 1 case vide, remplissez la!","",""):m?(alerter(l,"Veuillez mettre que des chiffres , svp!","",""),console.log(m)):i?alerter(l,"Il y a "+i+" cases vides, remplissez les!","",""):c?alerter(l,"Il y a "+c+" consigne(s) au dessus de 20 A, corrigez la/les!","",""):o?alerter(l,"Les variables de patinage et de Temps pelle doivent être inferieure à 255 secondes!","",""):s?alerter(l,"Les valeurs de temps pions et platine doivent être inferieures à 25500!","",""):r<2800?alerter(l,"L'écart entre le temps platine et temps pion doit etre supérieur ou égal à 2800 ms\nActuellement la difference est de "+r+" ms.","",""):d?alerter(l,"Aucune valeure nulle ou négative n'est autorisée","",""):alerter(l,"Êtes vous sur de vouloir assigner ces valeurs ?\n","Conf",n)}function save_edit(){var e=document.getElementById("opt_edit").value;if(""==e)return alerter("Edition","Veuillez selectionner le fichier à éditer","",""),!1;var t="Edition "+e+".txt",n=document.getElementById("put_text").value,a="",l=0,i=0,c=0,o="p1="+e+"&\n"+("d1="+n+"&\n")+"s1=W&",s=new RegExp("(^[ADMPRSE] [1-9][0-9]{0,3}$)|(^O [DG]$)|(^[ARBL]$)|(^[AR] 0$)|(^#[\t A-Za-z0-9_'*#-]*$)|(^[\t ]*$)","gm"),r=new RegExp("[\n]");if(console.log(n.match(s)),tab=n.match(s),tab2=n.split(r),0<n.length){for(c in tab.length!=tab2.length&&(l=1),tab2)if(tab[c]!=tab2[c]){a=tab2[c],i=c,i++;break}l?alerter(t,"Ligne "+i+" : "+a+" n'est pas reconnu","",""):alerter(t,"Êtes vous sur de vouloir modifier le fichier "+e+".txt?\n","/Edit",o)}else null==tab2.length?alerter("Edition","Votre contenu est vide","",""):alerter("Edition"," Ligne 0 : "+n+" n'est pas reconnu","","")}function save_h(){var e=$("#h1").val(),t=$("#m1").val(),n=new Date,a=new RegExp(["^[0-9]{1,2}$"]),l=n.getFullYear(),i=n.getMonth()+1,c=n.getDate();if(""!=e&&""!=t&&a.test(e)&&a.test(t)){if(e<=23&&0<=e&&t<=59&&0<=t){var o="h1="+e+"& m1="+t+"& y1="+l+"& m0="+i+"& d1="+c+"&",s="Mise à jour Horloge "+o;return console.log(s),$.post({url:"/Clock",data:o,success:function(){alerter("Horloge","L'horloge à été mis à jour","",""),e<10&&(e="0"+e),t<10&&(t="0"+t),document.getElementById("m_time").innerHTML="P5 : "+e+":"+t}}),!1}alerter("Horloge","Les entrées ne sont pas attribuables","","")}else a.test(e)&&a.test(t)?alerter("Horloge","Veuillez remplir les entrées s'il vous plait","",""):alerter("Horloge","Seuls les chiffres sont acceptés","","")}$.fn.atcenter=function(){this.css({"margin-top":-this.height()/2+"px","margin-left":-this.width()/2+"px"})},$.fn.center=function(){this.css({visibility:"visible",display:"block",position:"fixed",left:"50%",top:"50%","margin-top":-this.height()/2+"px","margin-left":-this.width()/2+"px"}),$("#updatejs *").prop("disabled",!0),$("#main_nav *").prop("disabled",!0),$("a").addClass("disabled"),$("#main_nav").addClass("disabled"),$("#footer").addClass("disabled")},$.fn.closing=function(){this.css({visibility:"hidden",display:"none"}),$("#updatejs *").prop("disabled",!1),$("#main_nav *").prop("disabled",!1),$("a").removeClass("disabled"),$("#main_nav").removeClass("disabled"),$("#footer").removeClass("disabled")},hostP5="192.168.4.1/flash",localhost="localhost/P5/Wipy/FWTOOL-CLI/Version_39/Sources",uwamp="localhost/Sources",host=hostP5,x=0,nom_wifi="",auth_wifi="",channel_wifi="",function(){function n(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))}Math.round10||(Math.round10=function(e,t){return n("round",e,t)}),Math.floor10||(Math.floor10=function(e,t){return n("floor",e,t)}),Math.ceil10||(Math.ceil10=function(e,t){return n("ceil",e,t)})}(),pages={manu:0,programme:1,clock:2,info:3,edit:4,planning:5,conf:6,calibration:7,wifi:8};var home=["home","",-1],manu=["manu",'<div class="container"><div class="row"><div class="col-12"><ul class="miro-nav"><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(1)">Cycle (Standard)</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(2)">Avant</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(3)">Lever Pelle</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(4)">Sort (Bequille)</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(5)">STOP</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(6)">Rentre (Bequille)</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(7)">Cycle (Retour)</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(8)">Arrière</a></li><li><a class="btn btn-miro prgm_manu" onclick="Manuel_cmd(9)">Baisser Pelle</a></li></ul></div></div></div>',0],programme=["programme",'<div class="container"><div class="row"><div class="col-12"><div class="pad19"><div class="row"><div class="col-12"><ul class="prgm-nav"><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(1)">1</a></li><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(2)">2</a></li><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(3)">3</a></li> </ul></div></div><div class="row"><div class="col-12"><ul class="prgm-nav"><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(4)">4</a></li><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(5)">5</a></li><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(6)">6</a></li></ul></div></div><div class="row"><div class="col-12"><ul class="prgm-nav"><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(7)">7</a></li><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(8)">8</a></li><li><a class="btn btn-miro btn-lg" onclick="Programme_cmd(9)">9</a></li></ul></div></div></div><ul class="miro-nav"><li><a class="btn btn-miro prgm_manu" onclick="Programme_cmd(10)">Standard</a></li><li><a class="btn btn-miro prgm_manu" onclick="Programme_cmd(11)">Pailleux</a></li><li><a class="btn btn-miro prgm_manu" onclick="Programme_cmd(12)">DVT</a></li><li><a class="btn btn-miro prgm_manu" onclick="Programme_cmd(13)">MultiTas</a></li><li><a class="btn btn-miro prgm_manu" onclick="Programme_cmd(14)">Retour</a></li><li><a class="btn btn-miro prgm_manu" onclick="Programme_cmd(15)">STOP</a></li></ul></div></div></div>',1],clock=["clock",'<div class="container center-block"><div class="row center-block" style=""><div class="center-block" style="float:none;margin: auto;"><div class="row prgm-nav"><li style="margin: auto;"><a onclick="save_h()" class="btn btn-miro mb-3" id="clk_save">Sauvegarder</a></li></div><div class="row"><p style="margin: auto;">Heure:</p><p style="margin: auto;">Minute:</p></div><div class="row center-block" style="margin: auto;"><input style="margin: auto;" type="text" id="h1" name="h1"  pattern="[0-9]{1,2}" size="5" ><input type="text" name="m1" id="m1" size="5" pattern="[0-9]{1,2}" style="margin: auto;"></div></div></div></div>',2],info=["info",'<div class="container"><div class="row"><div class="col-12"><div class="table-responsive"><table class="table"><tr><td>Dernière alarme</td><td id="derniere_alarme" class="text-right"></td><tr><td>Etat P5</td><td id="etat_p5" class="text-right"></td><tr><td>Etat précédant P5</td><td id="etat_p_p5"class="text-right"></td><tr><td>Pions</td><td id="pions"class="text-right"></td><tr><td>Batterie</td><td id="tension"class="text-right"></td><tr><td>Capteur pion</td><td id="c_pion"class="text-right"></td><tr><td>Capteur capot</td><td id="c_capot" class="text-right"></td><tr><td>Arret Urgence</td><td id="arret_urgence" class="text-right"></td><tr><td>Relais</td><td id="relais"class="text-right"></td><tr><td>I Moteur 1</td><td id="im1"class="text-right"></td><tr><td>I Moteur 2</td><td id="im2"class="text-right"></td><tr><td>Patinage</td><td id="patinage"class="text-right"></td><tr><td>Temps pion</td><td id="t_pion"class="text-right"></td><tr><td>Temps platine</td><td id="t_platine"class="text-right"></td><tr><td>Temps pelle</td><td id="t_pelle"class="text-right"></td><tr><td>Temps de vol</td><td id="t_vol"class="text-right"></td><tr><td>Version PIC:Wipy</td><td id="v_pic_wipy"class="text-right"></td><tr><td>Temps de démarrage</td><td id="t_demarrage"class="text-right"></td><tr><td>Nom wifi <a onclick=g_wifi()>SSID</a></td><td id="w_name"class="text-right"></td><tr><td>Mot de passe wifi</td><td id="w_pass"class="text-right"></td></table></div></div></div></div>',3],edit=["edit",'<div class="container"><div class="row"><div class="col-12"><button onclick="save_edit()" class="btn btn-miro mb-3" >Sauvegarder</button><p><SELECT name="p1" size="1" class="custom-select"id="opt_edit"><OPTION value="" selected>Choisissez le fichier à éditer</OPTION><OPTION value="1">1</OPTION><OPTION value="2">2</OPTION><OPTION value="3">3</OPTION><OPTION value="4">4</OPTION><OPTION value="5">5</OPTION><OPTION value="6">6</OPTION><OPTION value="7">7</OPTION><OPTION value="8">8</OPTION><OPTION value="9">9</OPTION><OPTION value="Retour">Retour</OPTION> </SELECT></p><TEXTAREA class="form-control" name="d1" rows=15 cols=15 id="put_text"></TEXTAREA></div></div></div>',4],planning=["planning",'<div class="container"><div class="row"><div class="col-12"><button onclick="save_plan()" class="btn btn-miro mb-3">Sauvegarder</button><div class="table-responsive"><table class="table"><thead><tr><th scope="col">#</th><th scope="col">Heure</th><th scope="col">Minute</th><th scope="col">A / D</th><th scope="col">Programme</th></tr></thead><tbody id="f_tab"></tbody></table></div></div></div>',5],conf=["conf",'<div class="container"><div class="row"><div class="col-12 "><button class="btn btn-miro" onclick="save_conf()">Enregistrer les modifications</button><div class="col-6 conf"><div class="row"><div class="col-6 name_conf"><label>Consigne Moteur:</label></div><div class="col-4 in_conf"><input required="required" type="text" id="Consigne_Moteur" name="m1"  min="0" max="50" size="5"/></div><div class="col-2 u_conf"> A</div></div><div class="row"><div class="col-6 name_conf"><label>Consigne Pelle: </label></div><div class="col-4 in_conf"><input required="required" id="Consigne_Pelle" type="text" name="c1"  min="0" max="50"size="5"/></div><div class="col-2 u_conf"> A</div></div><div class="row"><div class="col-6 name_conf"><label>Seuil Pelle: </label></div><div class="col-4 in_conf"><input required="required" id="Seuil_Pelle" type="text" name="s1"  min="0" max="50" size="5"/></div><div class="col-2 u_conf"> A</div></div><div class="row"><div class="col-6 name_conf"><label>Consigne Bequille: </label></div><div class="col-4 in_conf"><input type="text" required="required" id="Consigne_Bequille" name="b1"  min="0" max="50" size="5"/></div><div class="col-2 u_conf"> A</div></div><div class="row"><div class="col-6 name_conf"><label>Seuil Bequille: </label></div><div class="col-4 in_conf"><input required="required" id="Seuil_Bequille" type="text" name="d1"  min="0" max="50" size="5"/></div><div class="col-2 u_conf"> A</div></div><div class="row"><div class="col-6 name_conf"><label>Patinage: </label></div><div class="col-4 in_conf"><input id="Patinage" type="text" required="required" name="p1"  min="0" max="500" size="5"/></div><div class="col-2 u_conf"> s</div></div><div class="row"><div class="col-6 name_conf"><label>Temps Pion: </label></div><div class="col-4 in_conf"><input type="text" id="Temps_Pion" required="required" name="i1"  min="0" max="3000" size="5"/></div><div class="col-2 u_conf"> ms</div></div><div class="row"><div class="col-6 name_conf"><label>Temps Platine: </label></div><div class="col-4 in_conf"><input required="required" id="Temps_Platine" type="text" name="l1"  min="0" max="5000" size="5"/></div><div class="col-2 u_conf"> ms</div></div><div class="row"><div class="col-6 name_conf"><label>Temps pelle: </label></div><div class="col-4 in_conf"><input id="Temps_Pelle" required="required" type="text" name="e1"  min="0" max="600" size="5"/></div><div class="col-2 u_conf"> s</div></div></div></div></div></div>',6],calibration=["calibration",'<div class="container"><div class="row"><div class="col-12"><div class="pad19"><div class="row mb-2"><div class="col-12"><ul class="prgm-nav"><li><a class="btn btn-miro btn-lg" onclick="Calibration_cmd(1)">10 V</a></li><li><a class="btn btn-miro btn-lg" onclick="Calibration_cmd(2)">30 V</a></li><li><a class="btn btn-miro btn-lg" onclick="Calibration_cmd(3)">Bip</a></li></ul></div></div></div><div class="row mb-2"><div class="col-12"><ul class="prgm-nav"><li><a class="btn btn-miro btn-lg" onclick="Calibration_cmd(4)">LED ON</a></li><li><a class="btn btn-miro btn-lg" onclick="Calibration_cmd(5)">LED OFF</a></li><li><a class="btn btn-miro btn-lg" onclick="Calibration_cmd(6)">00:00</a></li></ul></div></div></div></div></div></div>',7],wifi=["wifi",'<div class="container"><div class="row"><div class="col-12 "><div class="form-group"><div>Nouveau nom Wifi = "P5 - {Nom saisi}"</div><input type="text" id="n1" name="n1" maxlength="8" pattern="[a-zA-Z0-9_ ]{1,8}"></div><div class="form-group"><div>Mot de passe</div> <input type="text" id="p1" name="p1" minlength="8" maxlength="20" pattern="[a-zA-Z0-9_-]{8,20}"><div>Caractères autorisés : chiffre et lettre (minuscule et majuscule) ayant minumum 8 Caractères</div></div><div class="form-group"><label>Canal</label> <SELECT name="c1" id="c1" size="1" class="custom-select"></SELECT></div><button onclick="change_wifi()" class="btn btn-miro">Sauvegarde</button></div></div><div class="row"><div class="col-12 wifi-change"><div class="col-4" id="w_name"></div><div class="col-4" id="w_pass"></div><div class="col-4" id="w_channel"></div></div></div></div>',8];$(document).ready(function(){init()});